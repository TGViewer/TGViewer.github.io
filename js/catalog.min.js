function my_ga(e,a,t,n,g){try{ga(e,a,t,n,g)}catch(g){}}function setAppCashe(){try{var e=localStorage.getItem("App"),a=JSON.stringify(App);e!==a&&localStorage.setItem("App",a)}catch(t){my_ga("send","event","setAppCashe","Error",t)}}function getAppCashe(){try{var e=localStorage.getItem("App");null!=e&&(App=JSON.parse(e))}catch(a){my_ga("send","event","getAppCashe","Error",a)}}function setPage(e){App.currentCatalogPage=getNumberValue(e),setAppCashe()}function openURL(e,a){var t=document.createElement("a");t.href=e,a&&(t.target="_self"),document.body.appendChild(t),t.click(),document.body.removeChild(t),my_ga("send","event","openURL","click",e)}function getRandomIndex(e,a){return Math.floor(a+Math.random()*(e+1-a))}function getNumberValue(e){var a=parseInt(e,10);return isNaN(a)&&(a=1),1>a&&(a=1),a}function getCatalogPage(){var e=getNumberValue(rangePage.value);setPage(e),openURL(domainPage+e,!0)}function getCatalogRandomPage(){var e=getRandomIndex(getNumberValue(rangePage.max),getNumberValue(rangePage.min));setPage(e),openURL(domainPage+e,!0)}function getCatalogPrevPage(){var e=getNumberValue(rangePage.value)-1;e<getNumberValue(rangePage.min)&&(e=getNumberValue(rangePage.max)),setPage(e),openURL(domainPage+e,!0)}function getCatalogNextPage(){var e=getNumberValue(rangePage.value)+1;e>getNumberValue(rangePage.max)&&(e=getNumberValue(rangePage.min)),setPage(e),openURL(domainPage+e,!0)}function addButtonEvents(){var e=location.pathname.toLowerCase();-1!=e.search("/channel/page/")&&(rangePage=document.getElementById("rangePage"),rangePage.addEventListener("change",function(){my_ga("send","event","getCatalogPage","change","rangePage"),getCatalogPage()}),document.addEventListener("keydown",function(e){""==e.target.className&&(37==e.which&&(my_ga("send","event","getCatalogPrevPage","keydown","document"),getCatalogPrevPage()),36==e.which&&(my_ga("send","event","getCatalogRandomPage","keydown","document"),getCatalogRandomPage()),39==e.which&&(my_ga("send","event","getCatalogNextPage","keydown","document"),getCatalogNextPage()))}),document.getElementById("btnRandomPageFooter").addEventListener("click",function(){my_ga("send","event","getCatalogRandomPage","click","btnRandomPageFooter"),getCatalogRandomPage()}),document.getElementById("btnPrevPageFooter").addEventListener("click",function(){my_ga("send","event","getCatalogPrevPage","click","btnPrevPageFooter"),getCatalogPrevPage()}),document.getElementById("btnNextPageFooter").addEventListener("click",function(){my_ga("send","event","getCatalogNextPage","click","btnNextPageFooter"),getCatalogNextPage()}))}function lazyLoad(){addButtonEvents();for(var e=document.querySelectorAll(".lazy_load"),a=0;a<e.length;a++){var t=e[a],n=t.getAttribute("data-src");""!=n&&(t.src=n,t.setAttribute("data-src",""))}}var App={},domainPage="https://tgviewer.github.io/channel/page/",rangePage=void 0;window.parent.location!=location&&(document.getElementById("tgvHeader").hidden=!0,document.getElementById("main").classList.remove("tgv-with-header")),getAppCashe();