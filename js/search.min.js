var AppSearch={arrayScript:[],dataAll:[]},AppBase={};function loadScripts(a,e){var l=$.Deferred();return function a(e,r,t){$.ajax({url:e[t],dataType:"script",cache:!0,success:function(){t+1<e.length?a(e,r,t+1):(r&&r(),l.resolve())}})}(a,e,0),l}function addDataToArrayScript(a){for(var e=a.files,r=0;r<e.length&&!(1<r);r++)AppSearch.arrayScript.push(e[r].file)}function searchElementIndexInArray(a,e,r){for(var t=-1,l=a,n=0;n<l.length;n++){var o=l[n];if(o.hasOwnProperty(r)&&o[r].toLowerCase()===e.toLowerCase())return t=n}return t}function addArrayToDataAll(a){var e=localStorage.getItem("App");null!=e&&(AppBase=JSON.parse(e));for(var r=0;r<a.length;r++){var t=a[r],l=t.name;if(-1==searchElementIndexInArray(AppBase.channels,l,"name")){var n=[];n.push('<a href="https://t.me/'+t.name+'" target="_blank"><div class="img_wrapper"><img class="lazy_load" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="'+t.image+'"></div></a>'),n.push('<a href="./index.html?search='+t.name+"/"+t.currentMessage+'" target="_blank">'+t.title+", "+t.name+"</a>"),AppSearch.dataAll.push(n)}}}function imgLoaded(a){$(a).parent().addClass("loaded")}function lazyLoad(){$(".lazy_load").each(function(){var a=$(this);""!=a.attr("data-src")&&a.on("load",imgLoaded(a[0])).attr("src",a.attr("data-src")).attr("data-src","")})}AppBase.channels=[],$(document).ready(function(){$.getScript("js/data/data.js",function(){$.when(loadScripts(AppSearch.arrayScript)).done(function(){$(".loader").addClass("hide");$("#catalog").DataTable({data:AppSearch.dataAll,order:[],columns:[{title:"",orderable:!1,searchable:!1},{title:"Telegram channel",orderable:!0}],scrollY:"246px",scrollCollapse:!0,drawCallback:function(a){lazyLoad()}});$("#catalog_length").hide(),$("#catalog_filter").parent().parent().removeClass("row"),$("#catalog_info").parent().removeClass("col-sm-12 col-md-5"),$("#catalog_paginate").parent().removeClass("col-sm-12 col-md-7"),$("#catalog_paginate").parent().parent().removeClass("row")})})});