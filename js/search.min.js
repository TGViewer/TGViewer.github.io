function loadScripts(a,e){function r(a,e,l){$.ajax({url:a[l],dataType:"script",cache:!0,success:function(){l+1<a.length?r(a,e,l+1):(e&&e(),t.resolve())}})}var t=$.Deferred();return r(a,e,0),t}function addDataToArrayScript(a){for(var e=a.files,r=0;r<e.length&&!(r>1);r++)AppSearch.arrayScript.push(e[r].file)}function searchElementIndexInArray(a,e,r){for(var t=-1,l=a,n=0;n<l.length;n++){var c=l[n];if(c.hasOwnProperty(r)&&c[r].toLowerCase()===e.toLowerCase())return t=n}return t}function addArrayToDataAll(a){var e=localStorage.getItem("App");null!=e&&(AppBase=JSON.parse(e));for(var r=0;r<a.length;r++){var t=a[r],l=t.name,n=searchElementIndexInArray(AppBase.channels,l,"name");if(-1==n){var c=[];c.push('<a href="./?search='+t.name+"/"+t.currentMessage+'" target="_parent"><div class="img_wrapper"><img class="lazy_load" src="" data-src="'+t.image+'"></div></a>'),c.push('<a href="./channel/'+t.name.toLowerCase().trim()+'" target="_parent">'+t.title+", "+t.name+"</a>"),AppSearch.dataAll.push(c)}}}function imgLoaded(a){$(a).parent().addClass("loaded")}function lazyLoad(){var a=$(".lazy_load");a.each(function(){var a=$(this);""!=a.attr("data-src")&&a.on("load",imgLoaded(a[0])).attr("src",a.attr("data-src")).attr("data-src","")})}var AppSearch={};AppSearch.arrayScript=[],AppSearch.dataAll=[];var AppBase={};AppBase.channels=[],$(document).ready(function(){$.getScript("js/data/data.js",function(){$.when(loadScripts(AppSearch.arrayScript)).done(function(){$(".loader").addClass("hide");$("#catalog").DataTable({data:AppSearch.dataAll,pageLength:100,order:[],columns:[{title:"",orderable:!1,searchable:!1},{title:"Telegram channel",orderable:!0}],scrollY:"246px",scrollCollapse:!0,drawCallback:function(){lazyLoad()}});$("#catalog_length").hide(),$("#catalog_filter").parent().parent().removeClass("row"),$("#catalog_info").parent().removeClass("col-sm-12 col-md-5"),$("#catalog_paginate").parent().removeClass("col-sm-12 col-md-7"),$("#catalog_paginate").parent().parent().removeClass("row")})})});